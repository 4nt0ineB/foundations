<!DOCTYPE html>
<html>
<head>
  <title>Function as output</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="style.css"/>
</head>
<body>
<textarea id="source">

class: center, middle

<a href="https://github.com/fp-tower/foundation">
  <img src="img/fp-tower/solid-color-logo.svg" alt="logo" style="width:800px;"/>
</a>

---
class: center, middle

# Function as output

---
# Functions as output

<br>

```scala mdoc:invisible
def truncate(digits: Int, number: Double): String =
  BigDecimal(number)
    .setScale(digits, BigDecimal.RoundingMode.FLOOR)
    .toDouble
    .toString
```

```scala
def truncate(digits: Int, number: Double): String =
  ...
```

<br>

```scala mdoc
truncate(2, 0.123456789)

truncate(5, 0.123456789)
```

---
# Functions as output

<br>

```scala mdoc:invisible
def truncate2D(number: Double): String = truncate(2, number)
def truncate5D(number: Double): String = truncate(5, number)
```

```scala
def truncate(digits: Int, number: Double): String =
  ...

def truncate2D(number: Double): String = truncate(2, number)
def truncate5D(number: Double): String = truncate(5, number)
```

<br>

```scala mdoc
truncate2D(0.123456789)

truncate5D(0.123456789)
```

---
# Functions as output

<br>

```scala
def publishEvent(hostname: String, port: Int, topic: String, event: Event): Unit
```

--

<br>

```scala
def publishLocalEvent(topic: String, event: Event): Unit =
  publishEvent("localhost", 9000, topic, event)
```


```scala
def publishUatEvent(topic: String,event: Event): Unit =
  publishEvent("uat-acme.com", 12450, topic, event)
```

---
# Functions as output

<br>

```scala
def publishEvent(hostname: String, port: Int, topic: String, event: Event): Unit
```

<br>

.extra-large-left[
```scala
def publishLocalEvent = publishEvent("localhost", 9000)
def publishUatEvent   = publishEvent("uat-acme.com", 12450)
```
]

.small-right[
## Pseudocode
]


---
class: small-code

# Functions as output

<br>

.pull-left[
```scala
def truncate(digits: Int, number: Double): String
```

```scala mdoc:reset:invisible
def truncate(digits: Int, number: Double): String =
  BigDecimal(number)
    .setScale(digits, BigDecimal.RoundingMode.FLOOR)
    .toDouble
    .toString
```

```scala mdoc
truncate(2, 0.123456789)
```
<br>
]

.pull-right[
```scala mdoc:reset:invisible
def truncate(digits: Int): Double => String =
  BigDecimal(_).setScale(digits, BigDecimal.RoundingMode.FLOOR).toDouble.toString

val truncate2D: Double => String = truncate(2)
val truncate5D: Double => String = truncate(5)
```

```scala
def truncate(digits: Int): Double => String
```

```scala mdoc
truncate(2)(0.123456789)
```
<br>
]

--

## Currying

```scala
val function3: (Int ,  Int  ,  Int) => Int

val function3: Int => (Int => (Int  => Int))
```

---
class: small-code

# Functions as output

<br>

.pull-left[
```scala
def truncate(digits: Int, number: Double): String
```

```scala mdoc:reset:invisible
def truncate(digits: Int, number: Double): String =
  BigDecimal(number)
    .setScale(digits, BigDecimal.RoundingMode.FLOOR)
    .toDouble
    .toString
```

```scala mdoc
truncate(2, 0.123456789)
```
<br>
]

.pull-right[
```scala mdoc:reset:invisible
def truncate(digits: Int): Double => String =
  BigDecimal(_).setScale(digits, BigDecimal.RoundingMode.FLOOR).toDouble.toString

val truncate2D: Double => String = truncate(2)
val truncate5D: Double => String = truncate(5)
```

```scala
def truncate(digits: Int): Double => String
```

```scala mdoc
truncate(2)(0.123456789)
```
<br>
]

## Currying

```scala
val function3: (Int ,  Int  ,  Int) => Int

val function3: Int =>  Int =>  Int  => Int
```

---
# Partial function application

<br>

```scala
def truncate(digits: Int): Double => String =
  (number: Int) => ...
```

<br>

```scala
val truncate2D = truncate(2)
val truncate5D = truncate(5)
```

--

<br>

```scala mdoc
truncate2D(0.123456789)

truncate5D(0.123456789)
```

---
# Syntax

## Uncurried

```scala
def truncate(digits: Int, number: Double): String
```

## Curried

```scala
def truncate(digits: Int)(number: Double): String

def truncate(digits: Int): Double => String

val truncate: Int => Double => String
```

---
# Conversion (Currying)

<br>

```scala
def truncate(digits: Int, number: Double): String
```

```scala mdoc:reset:invisible
def truncate(digits: Int, number: Double): String =
  BigDecimal(number)
    .setScale(digits, BigDecimal.RoundingMode.FLOOR)
    .toDouble
    .toString
```

--

<br>

```scala mdoc
truncate _
```

--

```scala mdoc
(truncate _).curried
```

---
# Summary

<br>

.large[
* Currying

* A curried function can be partially applied

* It als help type inference in Scala 2
]

---
class: center, middle

# Exercise 2: Functions as output

`exercises.function.FunctionExercises.scala`



</textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>
    var slideshow = remark.create({
        ratio: "16:9",
        slideNumberFormat: ''
    });
</script>
</body>
</html>