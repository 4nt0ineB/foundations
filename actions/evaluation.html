<!DOCTYPE html>
<html>
<head>
  <title>Evaluation</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="../style.css"/>
</head>
<body>
<textarea id="source">

background-image: url(../img/fp-tower/website-background.svg)

class: center, middle, white

.title[Evaluation]

---
# Retry

```scala
def retry[A](maxAttempt: Int): A = {
  var result   : Option[A] = None
  var remaining: Int       = maxAttempt

  while (result.isEmpty && remaining > 0) {
    remaining -= 1
    state = Try { ... }.toOption
  }

  result.getOrElse(sys.error(s"Failed after $maxAttempt attempts"))
}
```

---
# def vs val

.forty-seven-left[
```scala
def execDef: Int = {
  println("Hello")
  5
}



execDef
// Hello
// res0: Int = 5

execDef
// Hello
// res1: Int = 5
```
]

.forty-seven-right[
```scala
val execVal: Int = {
  println("Hello")
  5
}
// Hello
// execVal: Int = 5

execVal
// res2: Int = 5

execVal
// res3: Int = 5
```
]

---
# Methods without parameters

.forty-seven-left[
```scala
case class User(
  firstName: String,
  lastName: String,
  age: Int
) {
  def fullName: String =
    s"$firstName $lastName"
}

val eda = User("Eda", "Smith", 45)
```

```scala
eda.`firstName`
// res4: String = "Eda"

eda.`fullName`
// res5: String = "Eda Smith"
```
]

---
# def vs val

.forty-seven-left[
```scala
def execDef(): Int = {
  println("Hello")
  5
}



execDef()
// Hello
// res7: Int = 5

execDef()
// Hello
// res8: Int = 5
```
]

.forty-seven-right[
```scala
val execVal: Int = {
  println("Hello")
  5
}
// Hello
// execVal: Int = 5

execVal
// res9: Int = 5

execVal
// res10: Int = 5
```
]

---
# lazy val vs val

.forty-seven-left[
```scala
lazy val execLazyVal: Int = {
  println("Hello")
  5
}



execLazyVal
// Hello
// res12: Int = 5

execLazyVal
// res13: Int = 5
```
]

.forty-seven-right[
```scala
val execVal: Int = {
  println("Hello")
  5
}
// Hello
// execVal: Int = 5

execVal
// res14: Int = 5

execVal
// res15: Int = 5
```
]

---
# Execution

<br>

.forty-two-left[
## 1. Execute everytime

## 2. Execute once when first used

## 3. Execute once when defined
]

.fifty-two-right[
## -> `def`

## -> `lazy val`

## -> `val`
]

---
# Def vs Lazy Val vs Val

.cols[
.forty-five[
```scala
def exec(): Int = {
  println("Hello")
  5
}

exec()

exec()
```
]

.ten[&nbsp;&nbsp;&nbsp;&nbsp;]

.forty-five[
```scala
lazy val exec: Int = {
  println("Hello")
  5
}

exec

exec
```
]

.ten[&nbsp;&nbsp;&nbsp;&nbsp;]

.forty-five[
```scala
val exec: Int = {
  println("Hello")
  5
}

exec

exec
```
]
]

---
# def vs lazy val vs val

.cols[
.forty-five[
```scala
def exec(): Int = {
  println("Hello")
  5
}

exec()
// 5

exec()
// 5
```
]

.ten[&nbsp;&nbsp;&nbsp;&nbsp;]

.forty-five[
```scala
lazy val exec: Int = {
  println("Hello")
  5
}

exec
// 5

exec
// 5
```
]

.ten[&nbsp;&nbsp;&nbsp;&nbsp;]

.forty-five[
```scala
val exec: Int = {
  println("Hello")
  5
}

exec
// 5

exec
// 5
```
]
]

---
# def vs lazy val vs val

.cols[
.forty-five[
```scala
def exec(): Int = {
  println("Hello")
  5
}


exec()
// Hello

exec()
// Hello
```
.center[
## Every time it is called
]
]

.ten[&nbsp;&nbsp;&nbsp;&nbsp;]

.forty-five[
```scala
lazy val exec: Int = {
  println("Hello")
  5
}


exec
// Hello

exec
&#x200B;
```

.center[
## First time it is called
]
]

.ten[&nbsp;&nbsp;&nbsp;&nbsp;]

.forty-five[
```scala
val exec: Int = {
  println("Hello")
  5
}
// Hello

exec


exec
&#x200B;
```
.center[
## When it is defined
]
]
]

---
# Arguments evaluation

<br>

```scala
def foo(x: Int, y: Int): Int = x + y
```

.forty-seven-left[
```scala
foo(
  { println("Hello"); 4 },
  { println("World"); 2 },
)
// Hello
// World
// res16: Int = 6
```
]

--

.forty-seven-right[
```scala
val x = { println("Hello"); 4 }
// Hello

val y = { println("World"); 2 }
// World

foo(x, y)
// res: Int = 6
```
]

---
# Arguments evaluation

<br>

```scala
def foo(x: Int, y: Int): Int = x + y
```

.forty-seven-left[
```scala
foo(
  { println("Hello"); 4 },
  { println("World"); 2 },
)
// Hello
// World
// res18: Int = 6
```
]


.forty-seven-right[
```scala
println("Hello")
// Hello
val x = 4

println("World")
// World
val y = 2

foo(x, y)
// res: Int = 6
```
]

---
# Arguments evaluation

.sixty-seven-left[
```scala
def repeat(iteration: Int, block: () => Int): List[Int] =
  1.to(iteration).map(_ =>
    block()
  )
```
]

</textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>
    var slideshow = remark.create({
        ratio: "16:9",
        slideNumberFormat: '',
        highlightLines: true,
        highlightSpans: true,
    });
</script>
</body>
</html>